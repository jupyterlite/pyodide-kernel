diff --git a/lib/drivefs.js b/lib/drivefs.js
index 5b110b5feb702ae94c3509b45aff88b89ae07a47..b76eb9b4d65fc24c07b9b420692e04dc02a43652 100644
--- a/lib/drivefs.js
+++ b/lib/drivefs.js
@@ -1,5 +1,6 @@
 // Copyright (c) Jupyter Development Team.
 // Distributed under the terms of the Modified BSD License.
+import { UUID } from '@lumino/coreutils';
 import { DIR_MODE, SEEK_CUR, SEEK_END, instanceOfStream, } from './emscripten';
 export const DRIVE_SEPARATOR = ':';
 export const BLOCK_SIZE = 4096;
@@ -100,7 +101,11 @@ export class DriveFSEmscriptenStreamOps {
         if (length <= 0 || stream.file === undefined) {
             return 0;
         }
-        stream.node.timestamp = Date.now();
+        const now = Date.now();
+        stream.node.timestamp = now;
+        stream.node.atime = now;
+        stream.node.mtime = now;
+        stream.node.ctime = now;
         if (position + length > (((_a = stream.file) === null || _a === void 0 ? void 0 : _a.data.length) || 0)) {
             const oldData = stream.file.data ? stream.file.data : new Uint8Array();
             stream.file.data = new Uint8Array(position + length);
@@ -157,6 +162,15 @@ export class DriveFSEmscriptenNodeOps {
                     case 'timestamp':
                         node.timestamp = value;
                         break;
+                    case 'atime':
+                        node.atime = value;
+                        break;
+                    case 'mtime':
+                        node.mtime = value;
+                        break;
+                    case 'ctime':
+                        node.ctime = value;
+                        break;
                     case 'size': {
                         const size = value;
                         const path = this.fs.realPath(node);
@@ -186,7 +200,6 @@ export class DriveFSEmscriptenNodeOps {
                         }
                         break;
                     }
-                    case 'ctime':
                     case 'dontFollow':
                         // Ignore for now
                         break;
@@ -347,16 +360,13 @@ export class ContentsAPI {
             method: 'getattr',
             path: this.normalizePath(path),
         });
-        // Turn datetimes into proper objects
-        if (stats.atime) {
-            stats.atime = new Date(stats.atime);
-        }
-        if (stats.mtime) {
-            stats.mtime = new Date(stats.mtime);
-        }
-        if (stats.ctime) {
-            stats.ctime = new Date(stats.ctime);
-        }
+        // Emscripten 4.0.9+ (used by Pyodide 0.28+) requires all three timestamps
+        // to be valid Date objects with .getTime() method (see https://github.com/emscripten-core/emscripten/pull/22998).
+        // Fallback to epoch if any timestamp is missing/null/undefined.
+        const defaultDate = new Date(0);
+        stats.atime = stats.atime ? new Date(stats.atime) : defaultDate;
+        stats.mtime = stats.mtime ? new Date(stats.mtime) : defaultDate;
+        stats.ctime = stats.ctime ? new Date(stats.ctime) : defaultDate;
         // ensure a non-undefined size (0 isn't great, though)
         stats.size = stats.size || 0;
         return stats;
@@ -393,13 +403,16 @@ export class ServiceWorkerContentsAPI extends ContentsAPI {
     request(data) {
         const xhr = new XMLHttpRequest();
         xhr.open('POST', encodeURI(this.endpoint), false);
-        // Add the origin browsing context ID to the request
-        const requestWithBrowsingContextId = {
-            data,
+        // Generate unique request ID for correlation
+        const requestId = UUID.uuid4();
+        // Add the origin browsing context ID and request ID to the request
+        const requestWithMetadata = {
+            data: { ...data, requestId },
             browsingContextId: this._browsingContextId,
+            requestId,
         };
         try {
-            xhr.send(JSON.stringify(requestWithBrowsingContextId));
+            xhr.send(JSON.stringify(requestWithMetadata));
         }
         catch (e) {
             console.error(e);
